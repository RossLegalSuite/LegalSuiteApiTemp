<?php

namespace App\Http\Controllers\StoredProcedureControllers;

use App\Custom\ControllerHelper;
use App\Http\Controllers\Controller;
use DB;
use Illuminate\Http\Request;

class AddPartyController extends Controller
{
    public function parameters(Request $request)
    {
        return ControllerHelper::tryCatch($request, function ($request) {
            $returnData['data']['store producure name'] = strtolower('AddParty');
            $returnData['data']['number of parameters'] = '133';
            $returnData['data']['parameters'] = json_decode('[{"name":"@RecordID","type":"int"},{"name":"@AlternateRef","type":"varchar"},{"name":"@AnnualIncome","type":"decimal"},{"name":"@AuditorFax","type":"varchar"},{"name":"@AuditorName","type":"varchar"},{"name":"@AuditorPhone","type":"varchar"},{"name":"@AuditorPhysical","type":"varchar"},{"name":"@AuditorPostal","type":"varchar"},{"name":"@BatchId","type":"int"},{"name":"@BillingMatterID","type":"int"},{"name":"@BirthDay","type":"tinyint"},{"name":"@BirthdaySMSFlag","type":"tinyint"},{"name":"@BirthdaySMSMessage","type":"varchar"},{"name":"@BirthMonth","type":"tinyint"},{"name":"@ClientFlag","type":"tinyint"},{"name":"@ConsolidateFlag","type":"tinyint"},{"name":"@ConsolidateId","type":"int"},{"name":"@CountryOfResidence","type":"varchar"},{"name":"@CreatedDate","type":"int"},{"name":"@CreatedID","type":"int"},{"name":"@CreatedTime","type":"int"},{"name":"@DateResolutionSigned","type":"int"},{"name":"@DeedsOfficeDocLogID","type":"int"},{"name":"@DefaultLanguageID","type":"int"},{"name":"@DefaultRoleID","type":"int"},{"name":"@DomiciliumFlag","type":"tinyint"},{"name":"@DoNotNotifyFlag","type":"tinyint"},{"name":"@ElectronicPaymentFlag","type":"tinyint"},{"name":"@EntityID","type":"int"},{"name":"@Expense1","type":"decimal"},{"name":"@Expense10","type":"decimal"},{"name":"@Expense11","type":"decimal"},{"name":"@Expense12","type":"decimal"},{"name":"@Expense2","type":"decimal"},{"name":"@Expense3","type":"decimal"},{"name":"@Expense4","type":"decimal"},{"name":"@Expense5","type":"decimal"},{"name":"@Expense6","type":"decimal"},{"name":"@Expense7","type":"decimal"},{"name":"@Expense8","type":"decimal"},{"name":"@Expense9","type":"decimal"},{"name":"@ExpenseYTD","type":"decimal"},{"name":"@ExtraScreenId","type":"int"},{"name":"@FICACompliantFlag","type":"tinyint"},{"name":"@FicaRequestDate","type":"int"},{"name":"@FirstContactDate","type":"int"},{"name":"@IdentityNumber","type":"varchar"},{"name":"@InactiveFlag","type":"tinyint"},{"name":"@Income1","type":"decimal"},{"name":"@Income10","type":"decimal"},{"name":"@Income11","type":"decimal"},{"name":"@Income12","type":"decimal"},{"name":"@Income2","type":"decimal"},{"name":"@Income3","type":"decimal"},{"name":"@Income4","type":"decimal"},{"name":"@Income5","type":"decimal"},{"name":"@Income6","type":"decimal"},{"name":"@Income7","type":"decimal"},{"name":"@Income8","type":"decimal"},{"name":"@Income9","type":"decimal"},{"name":"@IncomeYTD","type":"decimal"},{"name":"@InternalFlag","type":"tinyint"},{"name":"@LastBirthdayEventDate","type":"int"},{"name":"@LastContactDate","type":"int"},{"name":"@LastContactDescription","type":"varchar"},{"name":"@LastInstructedDate","type":"int"},{"name":"@LastStageID","type":"int"},{"name":"@LawDeedBranchID","type":"int"},{"name":"@LawDeedID","type":"int"},{"name":"@LawRef","type":"int"},{"name":"@LegalSuiteFirmCode","type":"varchar"},{"name":"@LExpense1","type":"decimal"},{"name":"@LExpense10","type":"decimal"},{"name":"@LExpense11","type":"decimal"},{"name":"@LExpense12","type":"decimal"},{"name":"@LExpense2","type":"decimal"},{"name":"@LExpense3","type":"decimal"},{"name":"@LExpense4","type":"decimal"},{"name":"@LExpense5","type":"decimal"},{"name":"@LExpense6","type":"decimal"},{"name":"@LExpense7","type":"decimal"},{"name":"@LExpense8","type":"decimal"},{"name":"@LExpense9","type":"decimal"},{"name":"@LIncome1","type":"decimal"},{"name":"@LIncome10","type":"decimal"},{"name":"@LIncome11","type":"decimal"},{"name":"@LIncome12","type":"decimal"},{"name":"@LIncome2","type":"decimal"},{"name":"@LIncome3","type":"decimal"},{"name":"@LIncome4","type":"decimal"},{"name":"@LIncome5","type":"decimal"},{"name":"@LIncome6","type":"decimal"},{"name":"@LIncome7","type":"decimal"},{"name":"@LIncome8","type":"decimal"},{"name":"@LIncome9","type":"decimal"},{"name":"@LineId","type":"smallint"},{"name":"@MaritalStatus","type":"char"},{"name":"@MatterPrefix","type":"varchar"},{"name":"@MatterTakeOnReminder","type":"varchar"},{"name":"@Name","type":"varchar"},{"name":"@NeverLOLNotifyFlag","type":"tinyint"},{"name":"@Notes","type":"varchar"},{"name":"@NotUsedFlag","type":"tinyint"},{"name":"@OldCode","type":"varchar"},{"name":"@ParBankId","type":"int"},{"name":"@ParCategoryID","type":"int"},{"name":"@ParRegionID","type":"int"},{"name":"@PartyTypeID","type":"int"},{"name":"@PassportNumber","type":"varchar"},{"name":"@PhysicalCountryID","type":"int"},{"name":"@POANumber","type":"varchar"},{"name":"@PostalCountryID","type":"int"},{"name":"@PostingId","type":"int"},{"name":"@RemoteAccessExpiry","type":"int"},{"name":"@RemoteAccessPassword","type":"varchar"},{"name":"@SAResident","type":"char"},{"name":"@SecurityLevel","type":"tinyint"},{"name":"@SpouseAnnualIncome","type":"decimal"},{"name":"@SpouseCountryOfResidence","type":"varchar"},{"name":"@SpousePassportNumber","type":"varchar"},{"name":"@SpouseSAResident","type":"char"},{"name":"@SpouseTaxNumber","type":"varchar"},{"name":"@SpouseTaxPayer","type":"char"},{"name":"@TaxNumber","type":"varchar"},{"name":"@TaxPayer","type":"char"},{"name":"@TransId","type":"int"},{"name":"@UnmarriedStatus","type":"tinyint"},{"name":"@UpdatedByDate","type":"int"},{"name":"@UpdatedById","type":"int"},{"name":"@UpdatedByTime","type":"int"},{"name":"@UseOldCodeFlag","type":"tinyint"},{"name":"@VatNumber","type":"varchar"},{"name":"@WebLinkBankRef","type":"varchar"}]');

            return $returnData;
        });
    }

    public function execute(Request $request)
    {
        return ControllerHelper::tryCatch($request, function ($request) {
            $responseObject = DB::connection('sqlsrv')->statement('EXEC AddParty	@recordid="'.$request->recordid.'",@alternateref="'.$request->alternateref.'",@annualincome="'.$request->annualincome.'",@auditorfax="'.$request->auditorfax.'",@auditorname="'.$request->auditorname.'",@auditorphone="'.$request->auditorphone.'",@auditorphysical="'.$request->auditorphysical.'",@auditorpostal="'.$request->auditorpostal.'",@batchid="'.$request->batchid.'",@billingmatterid="'.$request->billingmatterid.'",@birthday="'.$request->birthday.'",@birthdaysmsflag="'.$request->birthdaysmsflag.'",@birthdaysmsmessage="'.$request->birthdaysmsmessage.'",@birthmonth="'.$request->birthmonth.'",@clientflag="'.$request->clientflag.'",@consolidateflag="'.$request->consolidateflag.'",@consolidateid="'.$request->consolidateid.'",@countryofresidence="'.$request->countryofresidence.'",@createddate="'.$request->createddate.'",@createdid="'.$request->createdid.'",@createdtime="'.$request->createdtime.'",@dateresolutionsigned="'.$request->dateresolutionsigned.'",@deedsofficedoclogid="'.$request->deedsofficedoclogid.'",@defaultlanguageid="'.$request->defaultlanguageid.'",@defaultroleid="'.$request->defaultroleid.'",@domiciliumflag="'.$request->domiciliumflag.'",@donotnotifyflag="'.$request->donotnotifyflag.'",@electronicpaymentflag="'.$request->electronicpaymentflag.'",@entityid="'.$request->entityid.'",@expense1="'.$request->expense1.'",@expense10="'.$request->expense10.'",@expense11="'.$request->expense11.'",@expense12="'.$request->expense12.'",@expense2="'.$request->expense2.'",@expense3="'.$request->expense3.'",@expense4="'.$request->expense4.'",@expense5="'.$request->expense5.'",@expense6="'.$request->expense6.'",@expense7="'.$request->expense7.'",@expense8="'.$request->expense8.'",@expense9="'.$request->expense9.'",@expenseytd="'.$request->expenseytd.'",@extrascreenid="'.$request->extrascreenid.'",@ficacompliantflag="'.$request->ficacompliantflag.'",@ficarequestdate="'.$request->ficarequestdate.'",@firstcontactdate="'.$request->firstcontactdate.'",@identitynumber="'.$request->identitynumber.'",@inactiveflag="'.$request->inactiveflag.'",@income1="'.$request->income1.'",@income10="'.$request->income10.'",@income11="'.$request->income11.'",@income12="'.$request->income12.'",@income2="'.$request->income2.'",@income3="'.$request->income3.'",@income4="'.$request->income4.'",@income5="'.$request->income5.'",@income6="'.$request->income6.'",@income7="'.$request->income7.'",@income8="'.$request->income8.'",@income9="'.$request->income9.'",@incomeytd="'.$request->incomeytd.'",@internalflag="'.$request->internalflag.'",@lastbirthdayeventdate="'.$request->lastbirthdayeventdate.'",@lastcontactdate="'.$request->lastcontactdate.'",@lastcontactdescription="'.$request->lastcontactdescription.'",@lastinstructeddate="'.$request->lastinstructeddate.'",@laststageid="'.$request->laststageid.'",@lawdeedbranchid="'.$request->lawdeedbranchid.'",@lawdeedid="'.$request->lawdeedid.'",@lawref="'.$request->lawref.'",@legalsuitefirmcode="'.$request->legalsuitefirmcode.'",@lexpense1="'.$request->lexpense1.'",@lexpense10="'.$request->lexpense10.'",@lexpense11="'.$request->lexpense11.'",@lexpense12="'.$request->lexpense12.'",@lexpense2="'.$request->lexpense2.'",@lexpense3="'.$request->lexpense3.'",@lexpense4="'.$request->lexpense4.'",@lexpense5="'.$request->lexpense5.'",@lexpense6="'.$request->lexpense6.'",@lexpense7="'.$request->lexpense7.'",@lexpense8="'.$request->lexpense8.'",@lexpense9="'.$request->lexpense9.'",@lincome1="'.$request->lincome1.'",@lincome10="'.$request->lincome10.'",@lincome11="'.$request->lincome11.'",@lincome12="'.$request->lincome12.'",@lincome2="'.$request->lincome2.'",@lincome3="'.$request->lincome3.'",@lincome4="'.$request->lincome4.'",@lincome5="'.$request->lincome5.'",@lincome6="'.$request->lincome6.'",@lincome7="'.$request->lincome7.'",@lincome8="'.$request->lincome8.'",@lincome9="'.$request->lincome9.'",@lineid="'.$request->lineid.'",@maritalstatus="'.$request->maritalstatus.'",@matterprefix="'.$request->matterprefix.'",@mattertakeonreminder="'.$request->mattertakeonreminder.'",@name="'.$request->name.'",@neverlolnotifyflag="'.$request->neverlolnotifyflag.'",@notes="'.$request->notes.'",@notusedflag="'.$request->notusedflag.'",@oldcode="'.$request->oldcode.'",@parbankid="'.$request->parbankid.'",@parcategoryid="'.$request->parcategoryid.'",@parregionid="'.$request->parregionid.'",@partytypeid="'.$request->partytypeid.'",@passportnumber="'.$request->passportnumber.'",@physicalcountryid="'.$request->physicalcountryid.'",@poanumber="'.$request->poanumber.'",@postalcountryid="'.$request->postalcountryid.'",@postingid="'.$request->postingid.'",@remoteaccessexpiry="'.$request->remoteaccessexpiry.'",@remoteaccesspassword="'.$request->remoteaccesspassword.'",@saresident="'.$request->saresident.'",@securitylevel="'.$request->securitylevel.'",@spouseannualincome="'.$request->spouseannualincome.'",@spousecountryofresidence="'.$request->spousecountryofresidence.'",@spousepassportnumber="'.$request->spousepassportnumber.'",@spousesaresident="'.$request->spousesaresident.'",@spousetaxnumber="'.$request->spousetaxnumber.'",@spousetaxpayer="'.$request->spousetaxpayer.'",@taxnumber="'.$request->taxnumber.'",@taxpayer="'.$request->taxpayer.'",@transid="'.$request->transid.'",@unmarriedstatus="'.$request->unmarriedstatus.'",@updatedbydate="'.$request->updatedbydate.'",@updatedbyid="'.$request->updatedbyid.'",@updatedbytime="'.$request->updatedbytime.'",@useoldcodeflag="'.$request->useoldcodeflag.'",@vatnumber="'.$request->vatnumber.'",@weblinkbankref="'.$request->weblinkbankref.'"');

            return ControllerHelper::StoredProcedureFormatHelper($responseObject, $request);
        });
    }
}
